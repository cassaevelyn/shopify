{%- style -%}
  .curriculum-section {
    background: transparent;
    width: 100%;
    display: flex;
    justify-content: center;
  }

  .curriculum-container {
    position: relative;
    width: 100%;
    max-width: 2403px;
    min-height: 800px;
  }

  .curriculum-description {
    margin: 80px auto;
    max-width: 1032px;
    font-family: 'SF Pro Display', sans-serif;
    font-weight: normal;
    color: white;
    font-size: 20px;
    text-align: center;
    letter-spacing: 0.6px;
    line-height: 30px;
  }

  .modules-container {
    position: relative;
    width: 100%;
    max-width: 1728px;
    margin: 60px auto;
  }

  .modules-row {
    display: flex;
    justify-content: center;
    gap: 24px;
    margin-bottom: 64px;
  }

  .module-card {
    width: 238px;
    height: 129px;
    background: rgba(132, 132, 132, 0.1);
    border-radius: 25px;
    border: 1px solid rgba(221, 200, 186, 0.5);
    backdrop-filter: blur(2px);
    position: relative;
  }

  .module-number {
    position: absolute;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    font-family: 'SF Pro Display', sans-serif;
    font-weight: bold;
    font-size: 28px;
    text-align: center;
    letter-spacing: 0.56px;
    line-height: 29.4px;
    background: linear-gradient(180deg, rgba(255,255,255,1) 29%, rgba(93,77,66,1) 85%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    white-space: nowrap;
  }

  .module-title {
    position: absolute;
    top: 67px;
    left: 0;
    right: 0;
    font-family: 'SF Pro Display', sans-serif;
    font-weight: 600;
    color: white;
    font-size: 20px;
    text-align: center;
    letter-spacing: 0;
    line-height: 22.4px;
    padding: 0 10px;
  }

  .connection-line {
    width: 100%;
    height: 87px;
    margin: 16px 0;
  }

  @media screen and (max-width: 1200px) {
    .modules-row {
      flex-wrap: wrap;
      gap: 16px;
    }

    .module-card {
      width: calc(50% - 8px);
      margin-bottom: 16px;
    }
  }

  @media screen and (max-width: 768px) {
    .module-card {
      width: 100%;
    }

    .curriculum-description {
      padding: 0 20px;
    }
  }
{%- endstyle -%}

<section class="curriculum-section">
  <div class="curriculum-container">
    <div class="curriculum-description">
      {{ section.settings.description }}
    </div>

    <div class="modules-container">
      <div class="modules-row">
        {% for block in section.blocks %}
          {% if block.type == 'top_module' %}
            <div class="module-card">
              <div class="module-number">Módulo {{ block.settings.module_number }}</div>
              <div class="module-title">{{ block.settings.module_title }}</div>
            </div>
          {% endif %}
        {% endfor %}
      </div>

      {% if section.settings.connection_line != blank %}
        <img
          src="{{ section.settings.connection_line | img_url: 'master' }}"
          alt="Module connection lines"
          class="connection-line"
          loading="lazy"
        >
      {% endif %}

      <div class="modules-row">
        {% for block in section.blocks %}
          {% if block.type == 'bottom_module' %}
            <div class="module-card">
              <div class="module-number">Módulo {{ block.settings.module_number }}</div>
              <div class="module-title">{{ block.settings.module_title }}</div>
            </div>
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Curriculum Modules",
  "settings": [
    {
      "type": "richtext",
      "id": "description",
      "label": "Description",
      "default": "<p>O Investimento Imobiliário Em Part Time é um programa comprovado e sem bullsh*t, que te garante um dia-a-dia mais confortável através da geração de um rendimento extra via imobiliário, com apenas 10.000€, um salário de 1000€ e a menor alocação de tempo possível.</p>"
    },
    {
      "type": "image_picker",
      "id": "connection_line",
      "label": "Connection Line Image"
    }
  ],
  "blocks": [
    {
      "type": "top_module",
      "name": "Top Row Module",
      "settings": [
        {
          "type": "number",
          "id": "module_number",
          "label": "Module Number",
          "default": 1
        },
        {
          "type": "text",
          "id": "module_title",
          "label": "Module Title",
          "default": "Module Title"
        }
      ]
    },
    {
      "type": "bottom_module",
      "name": "Bottom Row Module",
      "settings": [
        {
          "type": "number",
          "id": "module_number",
          "label": "Module Number",
          "default": 2
        },
        {
          "type": "text",
          "id": "module_title",
          "label": "Module Title",
          "default": "Module Title"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Curriculum Modules",
      "blocks": [
        {
          "type": "top_module",
          "settings": {
            "module_number": 1,
            "module_title": "Mindset do Investimento Imobiliário em Part Time"
          }
        },
        {
          "type": "top_module",
          "settings": {
            "module_number": 3,
            "module_title": "Financiamento Bancário"
          }
        },
        {
          "type": "top_module",
          "settings": {
            "module_number": 5,
            "module_title": "Avaliação Imobiliária e Análise Financeira"
          }
        },
        {
          "type": "top_module",
          "settings": {
            "module_number": 7,
            "module_title": "Análise da Documentação"
          }
        },
        {
          "type": "top_module",
          "settings": {
            "module_number": 9,
            "module_title": "Capitalização"
          }
        },
        {
          "type": "bottom_module",
          "settings": {
            "module_number": 2,
            "module_title": "32"
          }
        },
        {
          "type": "bottom_module",
          "settings": {
            "module_number": 4,
            "module_title": "Procura da Oportunidade"
          }
        },
        {
          "type": "bottom_module",
          "settings": {
            "module_number": 6,
            "module_title": "A Visita, Proposta e Negociação"
          }
        },
        {
          "type": "bottom_module",
          "settings": {
            "module_number": 8,
            "module_title": "A Compra"
          }
        },
        {
          "type": "bottom_module",
          "settings": {
            "module_number": 10,
            "module_title": "Promoção"
          }
        }
      ]
    }
  ]
}
{% endschema %}
